# 1. 상속(inheritance)

## 1.1 상속의 정의와 장점
_**상속이란, 기존의 클래스를 재사용하여 새로운 클래스를 작성하는 것**_

>- 상속을 통해 클래스를 작성하면 보다 적은 양의 코드로 새로운 클래스를 작성할 수 있다.
>- 코드를 공통적으로 관리할 수 있기 때문에 코드의 추가 및 변경이 매우 용이하다.
>- 코드의 재사용성을 높이고 코드의 중복을 제거하여 프로그램의 **생산성**과 **유지보수**에 크게 기여한다.

_**새로 작성하고자 하는 클래스의 이름뒤에 상속받고자 하는 클래스의 이름을 키워드 'extends' 와 함께 써주기만 하면 된다.**_

```java
class Child extends Parent {
	// ...
}
```
상속해주는 클래스를 '**조상 클래스**'라 하고 상속 받는 클래스를 '**자손 클래스**'라 한다.

서로 상속관계에 있는 두 클래스를 아래와 같은 용어를 사용해서 표현하기도 한다.
>조상 클래스 : 부모(Parent)클래스, 상위(super)클래스, 기반(base)클래스
>자손 클래스 : 자식(child)클래스, 하위(sub)클래스, 파생된(derived)클래스

만일 Parent클래스에 age라는 정수형 변수를 멤버변수로 추가하면, 자손 클래스는 조상의 멤버를 상속받기 때문에, Child클래스는 자동적으로 age라는 멤버변수가 추가된 것과 같은 효과를 얻는다.

```java
class Parent {
     int age;
}
class Child extends Parent { }

```

반대로 자손인 Child클래스에 새로운 멤버로 play()를 추가 할 경우 조상클래스는 영향을 받지 않는다.
```java
class Parent {
     int age;
}
class Child extends Parent {
     void play() {
          System.out.println("놀자~");
     }
}
```

>생성자와 초기화 블럭은 상속되지 않는다.
>자손 클래스의 멤버 개수는 조상 클래스보다 항상 같거나 많다.

```java
class Parent { }
class Child extends Parent { }
class Child2 extends Parent { }
```

>- 클래스간의 관계에서 형제 관계와 같은 것은 없다. 부모와 자식의 관계(상속관계)만이 존재할 뿐이다.
>- Child클래스와 Child2클래스에 공통적으로 추가되어야 하는 멤버(멤버변수나 메서드)가 있다면, 이 두 클래스에 각각 따로 추가해주는 것보다는 이들의 공통조상인 Parent클래스에 추가하는 것이 좋다.

_**같은 내용의 코드를 하나 이상의 클래스에 중복적으로 추가해야하는 경우에는 상속관계를 이용해서 코드의 중복을 최소화해야한다. 프로그램이 어떤 때는 잘 동작하지만 어떤 때는 오동작을 하는 이유는 중복된 코드 중에서 바르게 변경되지 않은 곳이 있기 때문이다.**_

```java
class Parent { }
class Child extends Parent { }
class Child2 extends Parent { }
class GrandChild extends Child { }
```

> - 자손클래스는 조상클래스의 모든 멤버를 물려받으므로 GrandChild클래스는 Child클래스의 모든 멤버, Child클래스의 조상인 Parent클래스로부터 상속받은 멤버까지, 상속받게 된다.
>- GrandChild클래스는 Child클래스의 자손이면서 Parent클래스의 자손이기도 하다. 좀더 정확히 말하자면, Child클래스는 GrandChild클래스의 직접 조상이고, Parent클래스는 GrandChild클래스의 간접 조상이 된다.
>- GrandChild클래스는 Parent클래스와 간접적인 상속관계에 있다고 할 수 있다.

```java
class Parent {
     int age;
}
class Child extends Parent { }
class Child2 extends Parent { }
class GrandChild extends Child { }
```
> - Parent클래스는 클래스 Child, Child2, GrandChild의 조상이므로 Parent클래스에 추가된 멤버변수 age는 Parent클래스의 모든 자손에 추가된다.
>- 반대로 Parent클래스에서 멤버변수 age를 제거 한다면, Parent의 자손클래스인 Child, Child2, GrandChild에서도 제거된다.
>- 이처럼 조상클래스만 변경해도 모든 자손클래스에, 자손의 자손 클래스에까지 영향을 미치게 된다.

_**💡클래스간의 상속관계를 맺어 주면 자손클래스들의 공통적인 부분은 조상클래스에서 관리하고 자손 클래스는 자신에 정의된 멤버들만 관리하면 되므로 각 클래스의 코드가 적어져서 관리가 쉬워진다.**_

_**💡전체 프로그램을 구성하는 클래스들을 면밀히 설계 분석하여, 클래스간의 상속관계를 적절히 맺어 주는 것이 객체지향 프로그래밍에서 가장 중요한 부분이다.**_

**예제**
```java
class Tv {
	boolean power; 	// 전원상태(on/off)
	int channel;	// 채널

	void power()        {   power = !power; }
	void channelUp()    { 	 ++channel;     }
	void channelDown()  {	 --channel;	    }
}

class CaptionTv extends Tv {
	boolean caption;		// 캡션상태(on/off)
	void displayCaption(String text) {
		if (caption) {	// 캡션 상태가 on(true)일 때만 text를 보여 준다.
			System.out.println(text);
		}
	}
}

class CaptionTvTest {
	public static void main(String args[]) {
		CaptionTv ctv = new CaptionTv();
		ctv.channel = 10;				// 조상 클래스로부터 상속받은 멤버
		ctv.channelUp();				// 조상 클래스로부터 상속받은 멤버
		System.out.println(ctv.channel);
		ctv.displayCaption("Hello, World");
		ctv.caption = true;				    // 캡션기능을 켠다.
		ctv.displayCaption("Hello, World");	// 캡션을 화면에 보여 준다.
	}
}

실행결과
11
Hello, World
```
**_💡자손 클래스의 인스턴스를 생성하면 조상 클래스의 멤버와 자손 클래스의 멤버가 합쳐진 하나의 인스턴스로 생성된다._**

## 1.2 클래스간의 관계 - 포함관계
**클래스 간의 포함관계를 맺어 주는 것은 한 클래스의 멤버변수로 다른 클래스 타입의 참조변수를 선언하는 것을 뜻한다.**

```java
class Circle {
     int x;             // 원점의 x좌표
     int y;             // 원점의 y좌표
     int r;             // 반지름(radius)
}

	
class Point {
     int x;             // x좌표
     int y;             // y좌표
}

class Circle {
     Point c = new Point();       // 원점
     int r;
}
```
**같이 한 클래스를 작성하는 데 다른 클래스를 멤버변수로 선언하여 포함시키는 것은 좋은 방법이다.**


```java
class Car {
	Engine e = new Engine();       // 엔진
	Door[] d = new Door[4];       // 문, 문의 개수를 넷으로 가정하고 배열로 처리     //...
}
```
**💡_Car클래스의 단위구성요소인 Engine, Door와 같은 클래스를 미리 작성해 놓고 이 들을 Car클래스의 멤버변수로 선언하여 포함관계를 맺어 주면, 클래스를 작성하는 것도 쉽고 코드도 간결해서 이해하기도 쉽다._**
